{"version":3,"sources":["utils/authApi.js","contexts/AccountContext.js","components/ProtectedRoute.js","images/logo.svg","components/Header.js","utils/api.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/FormField.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePlacePopup.js","components/PopupWithImage.js","components/AroundTheUS.js","images/avatar.png","components/Login.js","components/Register.js","components/InfoTooltip.js","components/Footer.js","components/App.js","reportWebVitals.js","index.js"],"names":["auth","baseUrl","headers","this","_baseUrl","_headers","token","fetch","method","then","res","ok","json","Promise","reject","status","data","body","JSON","stringify","localStorage","setItem","checkToken","credentials","AccountContext","createContext","ProtectedRoute","Component","component","props","value","useContext","loggedIn","to","Header","handleLogout","accountContext","useState","showMenu","setShowMenu","menuToggle","useRef","className","src","logo","alt","accountData","email","onClick","activeStyle","display","ref","current","blur","aria-label","api","cardId","liked","authorization","CurrentUserContext","Card","card","currentUserId","onCardClick","onDeleteClick","onLikeClick","currentUserOwns","owner","_id","currentUserLikes","likes","some","user","likeButtonRef","id","link","name","type","e","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","currentUser","avatar","about","map","PopupWithForm","isOpen","onSubmit","onReset","setTimeout","heading","children","submitReady","submitText","onClose","FormField","undefined","isModal","error","label","placeholder","minLength","minMax","maxLength","onChange","handleChange","autoComplete","required","EditProfilePopup","isSaving","values","setValues","errors","setErrors","setSubmitReady","target","split","pop","validity","valid","updatedErrors","Object","i","validationMessage","useEffect","preventDefault","EditAvatarPopup","setAvatar","setError","AddPlacePopup","errorValues","DeletePlacePopup","PopupWithImage","AroundTheUS","setCurrentUser","setCards","selectedCard","selectCard","setIsSaving","isProfilePopupOpen","showProfilePopup","isAvatarPopupOpen","showAvatarPopup","isAddPlacePopupOpen","showAddPlacePopup","isDeletePlacePopupOpen","showDeletePlacePopup","isImagePopupOpen","showImagePopup","closeAllPopups","setListener","closeOnEsc","key","document","querySelector","reset","listen","addEventListener","removeEventListener","getUserInfo","catch","err","console","log","getInitialCards","Provider","updateLikes","updatedCard","newCards","c","userData","setUserInfo","avatarData","setUserAvatar","cardData","addCard","newCard","deleteCard","response","filter","Login","handleLogin","isLoading","password","Register","handleRegister","InfoTooltip","Footer","App","history","useHistory","setLoggedIn","setAccountData","setIsLoading","isTooltipSuccessOpen","showTooltipSuccess","isTooltipErrorOpen","showTooltipError","isTooltipInvalidOpen","showTooltipInvalid","closeAllTooltips","getElementById","focus","login","push","getItem","removeItem","exact","path","register","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename"],"mappings":"mPAyEaA,EAAM,I,WAtEjB,cAAmC,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,QAAW,oBAChCC,KAAKC,SAAUH,EACfE,KAAKE,SAAUH,E,uDAINI,GACT,OAAOC,MAAMJ,KAAKC,SAAW,WAAY,CACvCI,OAAQ,MACRN,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BI,MAG9BG,MAAK,SAAAC,GACJ,OAAIA,EAAIC,GAAWD,EAAIE,OAChBC,QAAQC,OAAR,iBAAyBJ,EAAIK,c,4BAKlCC,GAAO,IAAD,OACV,OAAOT,MAAMJ,KAAKC,SAAW,SAAU,CACrCI,OAAQ,OACRN,QAASC,KAAKE,SACdY,KAAMC,KAAKC,UAAUH,KAEtBP,MAAK,SAAAC,GACJ,OAAIA,EAAIC,GAAWD,EAAIE,OAChBC,QAAQC,OAAR,iBAAyBJ,EAAIK,YAErCN,MAAK,SAAAO,GAEJ,OADAI,aAAaC,QAAQ,MAAOL,EAAKV,OAC1B,EAAKgB,WAAWN,EAAKV,Y,+BAKvBiB,GAAc,IAAD,OACpB,OAAOhB,MAAMJ,KAAKC,SAAW,SAAU,CACrCI,OAAQ,OACRN,QAASC,KAAKE,SACdY,KAAMC,KAAKC,UAAUI,KACpBd,MAAK,SAAAC,GACN,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,iBAAyBJ,EAAIK,YACnCN,MAAK,SAAAO,GAEN,OAAOT,MAAM,EAAKH,SAAW,SAAU,CACrCI,OAAQ,OACRN,QAAS,EAAKG,SACdY,KAAMC,KAAKC,UAAUI,KAEtBd,MAAK,SAAAC,GACJ,OAAIA,EAAIC,GAAWD,EAAIE,OAChBC,QAAQC,OAAR,iBAAyBJ,EAAIK,YAErCN,MAAK,SAAAC,GAEJ,OADAU,aAAaC,QAAQ,MAAOX,EAAIJ,OACzBU,Y,KASI,CAAY,CAC7Bf,QAAS,qCACTC,QAAS,CACP,eAAgB,sBC1EPsB,EAAiBC,0B,eCafC,EAXQ,SAAC,GAAyC,IAA5BC,EAA2B,EAAtCC,UAAyBC,EAAa,6BACxDC,EAAQC,qBAAWP,GAEzB,OACE,cAAC,IAAD,UAEI,kBAAyB,IAAnBM,EAAME,SAAoB,cAACL,EAAD,eAAeE,IAAY,cAAC,IAAD,CAAUI,GAAG,iBCVjE,MAA0B,iCCqD1BC,MA7Cf,YAAiC,IAAhBC,EAAe,EAAfA,aAETC,EAAiBL,qBAAWP,GAFJ,EAGCa,oBAAS,GAHV,mBAGvBC,EAHuB,KAGbC,EAHa,KAIxBC,EAAYC,mBAUlB,OACE,yBAAQC,UAAU,SAAlB,UAEE,qBAAKA,UAAU,eAAeC,IAAKC,EAAMC,IAAI,oBAE7C,oBAAIH,UAAS,+BAA0BN,EAAeJ,SAAW,kCAAoC,IAAxF,OAA6FM,EAAW,+BAAiC,GAAzI,QAAb,SACGF,EAAeJ,SACd,qCACE,6BAAI,qBAAKU,UAAU,sDAAf,SAAsEN,EAAeU,YAAYC,UACrG,6BAAI,wBAAQL,UAAU,oFAAoFM,QAASb,EAA/G,0BAGN,qCACE,6BACE,cAAC,IAAD,CAASc,YAAa,CAAEC,QAAS,QAAUjB,GAAG,UAAUS,UAAU,4BAAlE,uBAEF,6BACE,cAAC,IAAD,CAASO,YAAa,CAAEC,QAAS,QAAUjB,GAAG,UAAUS,UAAU,4BAAlE,4BAKqB,IAA5BN,EAAeJ,UACd,wBAAQmB,IAAKX,EAAYE,UAAS,8BAAyBJ,EAAW,gCAAkC,GAAtE,UAAkFU,QA9BvG,WACjBT,GAAaD,GACbE,EAAWY,QAAQC,QA4B0HC,aAAW,kB,QC4D/IC,EAAK,I,WAvGhB,cAAmC,IAArBtD,EAAoB,EAApBA,QAASC,EAAW,EAAXA,QAAW,oBAChCC,KAAKC,SAAUH,EACfE,KAAKE,SAAUH,E,8DAKf,OAAOK,MAAMJ,KAAKC,SAAW,QAAS,CACpCF,QAASC,KAAKE,WACbI,MAAK,SAAAC,GACN,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,iBAAyBJ,EAAIK,c,oCAMtC,OAAOR,MAAMJ,KAAKC,SAAW,WAAY,CACvCF,QAASC,KAAKE,WACbI,MAAK,SAAAC,GACN,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,iBAAyBJ,EAAIK,c,8BAKhCC,GACN,OAAOT,MAAMJ,KAAKC,SAAW,QAAS,CACpCI,OAAQ,OACRN,QAASC,KAAKE,SACdY,KAAMC,KAAKC,UAAUH,KACpBP,MAAK,SAAAC,GACN,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,iBAAyBJ,EAAIK,c,iCAK7ByC,GACT,OAAOjD,MAAMJ,KAAKC,SAAW,SAAWoD,EAAQ,CAC9ChD,OAAQ,SACRN,QAASC,KAAKE,WACbI,MAAK,SAAAC,GACN,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,iBAAyBJ,EAAIK,c,kCAK5ByC,EAAQC,GAClB,IAAIjD,EAAQ,SAGZ,OAFGiD,IAAOjD,EAAQ,OAEXD,MAAMJ,KAAKC,SAAW,eAAiBoD,EAAQ,CACpDhD,OAAQA,EACRN,QAASC,KAAKE,WACbI,MAAK,SAAAC,GACN,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,iBAAyBJ,EAAIK,c,kCAK5BC,GACV,OAAOT,MAAMJ,KAAKC,SAAW,WAAY,CACvCI,OAAQ,QACRN,QAASC,KAAKE,SACdY,KAAMC,KAAKC,UAAUH,KACpBP,MAAK,SAAAC,GACN,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,iBAAyBJ,EAAIK,c,oCAK1BC,GACZ,OAAOT,MAAMJ,KAAKC,SAAW,kBAAmB,CAC9CI,OAAQ,QACRN,QAASC,KAAKE,SACdY,KAAMC,KAAKC,UAAUH,KACpBP,MAAK,SAAAC,GACN,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,iBAAyBJ,EAAIK,gB,KAOxB,CAAQ,CACxBd,QAAS,8CACTC,QAAS,CACPwD,cAAe,uCACf,eAAgB,sBC3GPC,EAAqBlC,0BC8BnBmC,MA9Bf,YAA+E,IAAhEC,EAA+D,EAA/DA,KAAMC,EAAyD,EAAzDA,cAAeC,EAA0C,EAA1CA,YAAaC,EAA6B,EAA7BA,cAAeC,EAAc,EAAdA,YAExDC,EAAiBL,EAAKM,MAAMC,MAAQN,EACpCO,EAAkBR,EAAKS,MAAMC,MAAK,SAAAC,GAAI,OAAIA,EAAKJ,MAAQN,KACvDW,EAAehC,mBAQrB,OACE,qBAAIC,UAAU,QAAQgC,GAAIb,EAAKO,IAA/B,UACE,qBAAK1B,UAAU,eAAeC,IAAKkB,EAAKc,KAAM9B,IAAKgB,EAAKe,KAAM5B,QAR/C,WAAQe,EAAYF,MASnC,sBAAKnB,UAAU,cAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCmB,EAAKe,OACrC,wBAAQzB,IAAKsB,EAAeI,KAAK,SAASvB,aAAW,OACnDZ,UAAS,4BAAuB2B,EAAmB,kBAAoB,IACvErB,QAXgB,SAAC8B,GAAQb,EAAYJ,EAAMY,IAS7C,SAIE,sBAAM/B,UAAU,oBAAhB,SAAqCmB,EAAKS,MAAMS,cAGnDb,GAAmB,wBAAQW,KAAK,QAAQnC,UAAU,uBAAuBY,aAAW,SAASN,QAjBzE,WAAQgB,EAAcH,UCoClCmB,MArCf,YAA0G,IAA3FC,EAA0F,EAA1FA,MAAOC,EAAmF,EAAnFA,aAAcC,EAAqE,EAArEA,cAAeC,EAAsD,EAAtDA,WAAYrB,EAA0C,EAA1CA,YAAaC,EAA6B,EAA7BA,cAAeC,EAAc,EAAdA,YAEnFoB,EAActD,qBAAW4B,GAI/B,OACE,iCAEE,0BAASjB,UAAU,UAAnB,UACE,wBAAQA,UAAU,uBAAuBY,aAAW,cAAcN,QAASkC,EAA3E,SACE,qBAAKxC,UAAU,kBAAkBC,IAAK0C,EAAYC,OAAQzC,IAAI,aAEhE,sBAAKH,UAAU,gBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+B2C,EAAYT,OAC3C,wBAAQC,KAAK,SAASnC,UAAU,4BAA4BY,aAAW,eAAeN,QAASmC,IAC/F,mBAAGzC,UAAU,iBAAb,SAA+B2C,EAAYE,WAG7C,wBAAQV,KAAK,SAASnC,UAAU,4BAA4BY,aAAW,YAAYN,QAASoC,OAI9F,yBAAS1C,UAAU,aAAnB,SACE,oBAAIA,UAAU,wBAAd,SAEGuC,EAAMO,KAAI,SAAA3B,GAAI,OACb,cAAC,EAAD,CAAMA,KAAMA,EAAqBC,cAAeuB,EAAYjB,IAAKL,YAAaA,EAAaC,cAAeA,EAAeC,YAAaA,GAA/GJ,EAAKO,gB,OChBzBqB,MAnBf,SAAuB5D,GAErB,OACE,qBAAKa,UAAS,gBAAWb,EAAM6D,OAAS,eAAiB,IAAzD,SACE,uBAAMd,KAAI,UAAK/C,EAAM+C,KAAX,SAAwBlC,UAAS,4CAAuCb,EAAM+C,MAAQe,SAAU9D,EAAM8D,SAAUC,QAAS,kBAAMC,YAAW,WAAQhE,EAAM+D,SAAW/D,EAAM+D,YAAc,MAAjM,UAEE,oBAAIlD,UAAU,+BAAd,SAA8Cb,EAAMiE,UAEnDjE,EAAMkE,SAEP,wBAAQlB,KAAK,SAASnC,UAAS,oEAA+Db,EAAMmE,aAAe,iDAAmDpB,KAAI,UAAK/C,EAAM+C,KAAX,WAA1K,SAAqM/C,EAAMoE,aAE3M,wBAAQpB,KAAK,QAAQnC,UAAU,qBAAqBY,aAAW,QAAQN,QAASnB,EAAMqE,gBCU/EC,MAtBf,SAAmBtE,GAEjB,OACE,qCACE,uBACEgD,UAAqBuB,IAAfvE,EAAMgD,KAAqB,OAAShD,EAAMgD,KAChDD,KAAM/C,EAAM+C,KACZF,GAAI7C,EAAM+C,KACVlC,UAAS,qBAAgBb,EAAMwE,QAAU,gBAAkB,IAAlD,OAAuDxE,EAAMyE,MAAQ,0BAA2B,IACzGhD,aAAYzB,EAAM0E,MAClBC,YAAa3E,EAAM0E,MACnBE,UAAW5E,EAAM6E,OAAS7E,EAAM6E,OAAO,QAAKN,EAC5CO,UAAW9E,EAAM6E,OAAS7E,EAAM6E,OAAO,QAAKN,EAC5CtE,MAAOD,EAAMC,MACb8E,SAAU/E,EAAMgF,aAChBC,aAA6B,aAAfjF,EAAMgD,KAAN,wBAA6ChD,EAAM+C,MAAS,GAC1EmC,UAAQ,IACV,sBAAMrE,UAAS,qBAAgBb,EAAMyE,MAAQ,sBAAwB,IAArE,SAA4EzE,EAAMyE,YCmDzEU,MA3Df,YAAkE,IAAvCtB,EAAsC,EAAtCA,OAAQuB,EAA8B,EAA9BA,SAAUf,EAAoB,EAApBA,QAASP,EAAW,EAAXA,SAE9CN,EAAatD,qBAAW4B,GAFiC,EAIpCtB,mBAAS,CAAEuC,KAAM,GAAIW,MAAO,KAJQ,mBAIxD2B,EAJwD,KAIhDC,EAJgD,OAKpC9E,mBAAS,IAL2B,mBAKxD+E,EALwD,KAKhDC,EALgD,OAM1BhF,oBAAS,GANiB,mBAMxD2D,EANwD,KAM3CsB,EAN2C,KAU/D,SAAST,EAAa/B,GACpB,IAAMF,EAAME,EAAEyC,OAAO3C,KAAK4C,MAAM,KAAKC,MAGrC,GAFAN,EAAU,2BAAID,GAAL,kBAActC,EAAOE,EAAEyC,OAAOzF,SAEpCgD,EAAEyC,OAAOG,SAASC,MAAO,CAC1B,IAAMC,EAAc,2BAAKR,GAAN,kBAAexC,EAAO,KACzCyC,EAAUO,GACVN,GAAgBO,OAAOX,OAAOU,GAAerD,MAAK,SAAAuD,GAAC,OAAIA,WAEvDT,EAAU,2BAAID,GAAL,kBAAcxC,EAAOE,EAAEyC,OAAOQ,qBACvCT,GAAe,GA2BnB,OAVAU,qBAAU,WACL3C,EAAYT,MAAQS,EAAYE,QACjC4B,EAAU,CAAEvC,KAAMS,EAAYT,KAAMW,MAAOF,EAAYE,QACvD+B,GAAe,MAEhB,CAACjC,IAMF,eAAC,EAAD,CAAeS,QAAQ,eAAelB,KAAK,UAAUc,OAAQA,EAAQQ,QAASA,EAASN,QAnBtE,WACjBuB,EAAU,CAAEvC,KAAMS,EAAYT,MAAQ,GAAIW,MAAOF,EAAYE,OAAS,KACtE8B,EAAU,IACVC,KAAkBjC,EAAYT,OAAQS,EAAYE,SAiBhDU,WAAYgB,EAAW,YAAc,OAAQjB,YAAaA,EAAaL,SAzB3E,SAAsBb,GACpBA,EAAEmD,iBACFtC,EAASuB,IAsBT,UAGE,cAAC,EAAD,CAAWb,SAAS,EAAMzB,KAAK,eAAe2B,MAAM,OAAOG,OAAQ,CAAC,EAAG,IAAKG,aAAcA,EAAc/E,MAAOoF,EAAOtC,KAAM0B,MAAOc,EAAOxC,OAC1I,cAAC,EAAD,CAAWyB,SAAS,EAAMzB,KAAK,gBAAgB2B,MAAM,WAAWG,OAAQ,CAAC,EAAG,KAAMG,aAAcA,EAAc/E,MAAOoF,EAAO3B,MAAOe,MAAOc,EAAO7B,YCFxI2C,MA/Cf,YAAiE,IAAvCxC,EAAsC,EAAtCA,OAAQuB,EAA8B,EAA9BA,SAAUf,EAAoB,EAApBA,QAASP,EAAW,EAAXA,SAE7CN,EAAatD,qBAAW4B,GAFgC,EAInCtB,mBAAS,IAJ0B,mBAIvDiD,EAJuD,KAI/C6C,EAJ+C,OAKrC9F,mBAAS,IAL4B,mBAKvDiE,EALuD,KAKhD8B,EALgD,OAMzB/F,oBAAS,GANgB,mBAMvD2D,EANuD,KAM1CsB,EAN0C,KAoC9D,OAPAU,qBAAU,WACNG,EAAU9C,EAAYC,QAAU,IAChCgC,IAAiBjC,EAAYC,UAC9B,CAACD,IAKF,cAAC,EAAD,CAAeS,QAAQ,yBAAyBlB,KAAK,SAASc,OAAQA,EAAQQ,QAASA,EAASN,QAhBlG,WACEuC,EAAU9C,EAAYC,QAAU,IAChC8C,EAAS,IACTd,IAAiBjC,EAAYC,SAc3BW,WAAYgB,EAAW,YAAc,OAAQjB,YAAaA,EAAaL,SAtB3E,SAAsBb,GACpBA,EAAEmD,iBACFtC,EAAS,CAACL,OAAQA,KAmBlB,SAGE,cAAC,EAAD,CAAWe,SAAS,EAAMzB,KAAK,iBAAiBC,KAAK,MAAM0B,MAAM,aAAazE,MAAOwD,EAAQuB,aA9BjG,SAAsB/B,GACpBqD,EAAUrD,EAAEyC,OAAOzF,OACnBsG,EAAStD,EAAEyC,OAAOG,SAASC,MAAQ,GAAK7C,EAAEyC,OAAOQ,mBACjDT,EAAexC,EAAEyC,OAAOG,SAASC,QA2B0FrB,MAAOA,OCEvH+B,MA/Cf,YAA+D,IAAvC3C,EAAsC,EAAtCA,OAAQuB,EAA8B,EAA9BA,SAAUf,EAAoB,EAApBA,QAASP,EAAW,EAAXA,SAAW,EAEjCtD,mBAAS,CAAEuC,KAAM,GAAID,KAAM,KAFM,mBAErDuC,EAFqD,KAE7CC,EAF6C,OAGjC9E,mBAAS,IAHwB,mBAGrD+E,EAHqD,KAG7CC,EAH6C,OAIvBhF,oBAAS,GAJc,mBAIrD2D,EAJqD,KAIxCsB,EAJwC,KAQ5D,SAAST,EAAa/B,GACpB,IAAMF,EAAME,EAAEyC,OAAO3C,KAAK4C,MAAM,KAAKC,MAGrC,GAFAN,EAAU,2BAAID,GAAL,kBAActC,EAAOE,EAAEyC,OAAOzF,SAEpCgD,EAAEyC,OAAOG,SAASC,MAAO,CAC1B,IAAMC,EAAc,2BAAKR,GAAN,kBAAexC,EAAO,KACzCyC,EAAUO,GACV,IAAMU,EAAaT,OAAOX,OAAOU,GACP,IAAvBU,EAAYvD,QAAcuC,GAAgBgB,EAAY/D,MAAK,SAAAuD,GAAC,OAAIA,WAEnET,EAAU,2BAAID,GAAL,kBAAcxC,EAAOE,EAAEyC,OAAOQ,qBACvCT,GAAe,GAgBnB,OACE,eAAC,EAAD,CAAexB,QAAQ,YAAYlB,KAAK,QAAQc,OAAQA,EAAQQ,QAASA,EAASN,QARpF,SAAqBd,GACnBuC,EAAU,IACVC,GAAe,IAObrB,WAAYgB,EAAW,YAAc,SAAUjB,YAAaA,EAAaL,SAd7E,SAAsBb,GACpBA,EAAEmD,iBACFtC,EAASuB,EAAQpC,IAWjB,UAGE,cAAC,EAAD,CAAWuB,SAAS,EAAMzB,KAAK,aAAa2B,MAAM,QAAQG,OAAQ,CAAC,EAAG,IAAKJ,MAAOc,EAAOxC,KAAMiC,aAAcA,IAC7G,cAAC,EAAD,CAAWR,SAAS,EAAMzB,KAAK,aAAaC,KAAK,MAAM0B,MAAM,aAAaD,MAAOc,EAAOzC,KAAMkC,aAAcA,QC3BnG0B,MAhBf,YAA0E,IAA/C7C,EAA8C,EAA9CA,OAAQuB,EAAsC,EAAtCA,SAAUf,EAA4B,EAA5BA,QAAS1C,EAAmB,EAAnBA,OAAQmC,EAAW,EAAXA,SAS5D,OACE,cAAC,EAAD,CAAeG,QAAQ,gBAAgBlB,KAAK,SAASc,OAAQA,EAAQQ,QAASA,EAC5EF,aAAa,EAAMC,WAAYgB,EAAW,YAAc,MAAOtB,SATnE,SAAsBb,GACpBA,EAAEmD,iBACFtC,EAASnC,OCOEgF,MAff,SAAwB3G,GAEtB,OACE,qBAAKa,UAAS,2BAAsBb,EAAM6D,OAAS,eAAiB,IAApE,SACE,sBAAKhD,UAAU,2BAAf,UACE,yBAAQA,UAAU,uBAAlB,UACE,qBAAKA,UAAU,sBAAsBC,IAAKd,EAAMgC,KAAKc,KAAM9B,IAAKhB,EAAMgC,KAAKe,OAC3E,4BAAYlC,UAAU,wBAAtB,SAA+Cb,EAAMgC,KAAKe,UAE5D,wBAAQC,KAAK,SAASnC,UAAU,wCAAwCY,aAAW,qBAAqBN,QAASnB,EAAMqE,gBCsLhHuC,MA/Kf,WAAwB,IAAD,EAEgBpG,mBAAS,CAACuC,KAAM,GAAIW,MAAO,GAAID,OClBvD,+vCDgBQ,mBAEdD,EAFc,KAEDqD,EAFC,OAGIrG,mBAAS,IAHb,mBAGd4C,EAHc,KAGP0D,EAHO,OAIatG,mBAAS,IAJtB,mBAIduG,EAJc,KAIAC,EAJA,OAKUxG,oBAAS,GALnB,mBAKd4E,EALc,KAKJ6B,EALI,OAOyBzG,oBAAS,GAPlC,mBAOd0G,EAPc,KAOMC,EAPN,OAQuB3G,oBAAS,GARhC,mBAQd4G,EARc,KAQKC,EARL,OAS2B7G,oBAAS,GATpC,mBASd8G,EATc,KASOC,EATP,OAUiC/G,oBAAS,GAV1C,mBAUdgH,EAVc,KAUUC,EAVV,OAWqBjH,oBAAS,GAX9B,mBAWdkH,EAXc,KAWIC,EAXJ,KAmBfC,EAAgB,WACpBP,GAAgB,GAChBF,GAAiB,GACjBI,GAAkB,GAClBE,GAAqB,GAErBE,GAAe,GACf3D,YAAW,WAAQgD,EAAW,MAAQ,KAEtCa,GAAY,IAGRC,EAAY,SAAC7E,GACJ,WAAVA,EAAE8E,MACHH,IAEAI,SAASC,cAAc,wBAAwBC,UAI7CL,EAAa,SAACM,GAClBA,EACEH,SAASI,iBAAiB,QAASN,GACnCE,SAASK,oBAAoB,QAASP,IA8G1C,OAnBA3B,qBAAU,WACRzE,EAAI4G,cACH1J,MAAK,SAAC+D,GACLkE,EAAelE,MAEhB4F,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAEb,IAEHrC,qBAAU,WACJ3C,GACJ9B,EAAIiH,kBACD/J,KAAKkI,GACLyB,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAEf,CAAChF,IAGF,eAAC1B,EAAmB8G,SAApB,CAA6B3I,MAAOuD,EAApC,UACE,cAAC,EAAD,CACEJ,MAAOA,EACPC,aA7IuB,WAAQgE,GAAgB,GAAOQ,GAAY,IA8IlEvE,cA7IwB,WAAQ6D,GAAiB,GAAOU,GAAY,IA8IpEtE,WA7IqB,WAAQgE,GAAkB,GAAOM,GAAY,IA8IlE3F,YAlHiB,SAACF,GACtBgF,EAAWhF,GACX2F,GAAe,GACfE,GAAY,IAgHR1F,cA7GmB,SAACH,GACxBgF,EAAWhF,GACXyF,GAAqB,GACrBI,GAAY,IA2GRzF,YA1DgB,SAACJ,EAAMY,GAC3B,IAAMJ,EAAkBR,EAAKS,MAAMC,MAAK,SAAAC,GAAI,OAAIA,EAAKJ,MAAQiB,EAAYjB,OACzEb,EAAImH,YAAY7G,EAAKO,KAAMC,GACxB5D,MAAK,SAACkK,GACL,IAAMC,EAAW3F,EAAMO,KAAI,SAACqF,GAAD,OAAOA,EAAEzG,MAAQP,EAAKO,IAAMuG,EAAcE,KACrElC,EAASiC,GACTnG,EAAcrB,QAAQC,UAEvB+G,OAAM,SAACC,GACNC,QAAQC,IAAIF,SAoDd,cAAC,EAAD,CAAkB3E,OAAQqD,EAAoB7C,QAASuD,EAAgB9D,SAzGtD,SAACmF,GACpBhC,GAAY,GACZvF,EAAIwH,YAAYD,GACfrK,MAAK,SAAC+D,GACLkE,EAAelE,GACfiF,IACA5D,YAAW,WAAQiD,GAAY,KAAW,QAE3CsB,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZvB,GAAY,OA+FoF7B,SAAUA,IAC1G,cAAC,EAAD,CAAiBvB,OAAQuD,EAAmB/C,QAASuD,EAAgB9D,SA5FrD,SAACqF,GACnBlC,GAAY,GACZvF,EAAI0H,cAAcD,GACjBvK,MAAK,SAAC+D,GACLkE,EAAelE,GACfiF,IACA5D,YAAW,WAAQiD,GAAY,KAAW,QAE3CsB,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZvB,GAAY,OAkFiF7B,SAAUA,IACvG,cAAC,EAAD,CAAevB,OAAQyD,EAAqBjD,QAASuD,EAAgB9D,SA9E1D,SAACuF,EAAUpG,GACxBgE,GAAY,GACZvF,EAAI4H,QAAQD,GACXzK,MAAK,SAAC2K,GACLzC,EAAS,CAACyC,GAAF,mBAAcnG,KACtBwE,IACA5D,YAAW,WAAQiD,GAAY,KAAW,KAC1ChE,EAAEyC,OAAOwC,WAEVK,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZvB,GAAY,OAmE4E7B,SAAUA,IAClG,cAAC,EAAD,CAAkBvB,OAAQ2D,EAAwBnD,QAASuD,EAAgB9D,SAnD7D,SAACnC,GACjBsF,GAAY,GACZvF,EAAI8H,WAAW7H,GACd/C,MAAK,SAAC6K,GACL,IAAMV,EAAW3F,EAAMsG,QAAO,SAAC1H,GAAD,OAAUA,EAAKO,MAAQZ,KACrDmF,EAASiC,GACTnB,IACA5D,YAAW,WAAQiD,GAAY,KAAW,QAE3CsB,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZvB,GAAY,OAwCqFtF,OAAQoF,EAAaxE,IAAK6C,SAAUA,IAErI,cAAC,EAAD,CAAgBvB,OAAQ6D,EAAkBrD,QAASuD,EAAgB5F,KAAM+E,QE3HhE4C,MAvDf,YAA0C,IAA1BC,EAAyB,EAAzBA,YAAaC,EAAY,EAAZA,UAAY,EAEZrJ,mBAAS,CAAEU,MAAO,GAAI4I,SAAU,KAFpB,mBAEhCzE,EAFgC,KAExBC,EAFwB,OAGZ9E,mBAAS,IAHG,mBAGhC+E,EAHgC,KAGxBC,EAHwB,OAIFhF,oBAAS,GAJP,mBAIhC2D,EAJgC,KAInBsB,EAJmB,KAQvC,SAAST,EAAa/B,GACpB,IAAMF,EAAME,EAAEyC,OAAO3C,KAAK4C,MAAM,KAAKC,MAGrC,GAFAN,EAAU,2BAAID,GAAL,kBAActC,EAAOE,EAAEyC,OAAOzF,SAEpCgD,EAAEyC,OAAOG,SAASC,MAAO,CAC1B,IAAMC,EAAc,2BAAKR,GAAN,kBAAexC,EAAO,KACzCyC,EAAUO,GACV,IAAMU,EAAaT,OAAOX,OAAOU,GACP,IAAvBU,EAAYvD,QAAcuC,GAAgBgB,EAAY/D,MAAK,SAAAuD,GAAC,OAAIA,WAEnET,EAAU,2BAAID,GAAL,kBAAcxC,EAAOE,EAAEyC,OAAOQ,qBACvCT,GAAe,GAenB,OACE,uBAAM1C,KAAK,aAAalC,UAAU,OAAOiD,SAZ3C,SAAsBb,GACpBA,EAAEmD,iBACFwD,EAAYvE,GACTkD,OAAM,WACLjD,EAAU,2BAAID,GAAL,IAAayE,SAAU,MAChCrE,GAAe,OAOnB,UAEE,oBAAI5E,UAAU,gBAAd,oBAEA,cAAC,EAAD,CAAWkC,KAAK,cAAc2B,MAAM,QAAQM,aAAcA,EACxD/E,MAAOoF,EAAOnE,MAAOuD,MAAOc,EAAOrE,QAErC,cAAC,EAAD,CAAW6B,KAAK,iBAAiBC,KAAK,WAAW0B,MAAM,WAAWM,aAAcA,EAC9E/E,MAAOoF,EAAOyE,SAAUrF,MAAOc,EAAOuE,WAExC,wBAAQ9G,KAAK,SAASnC,UAAS,sBAAiBsD,EAAc,GAAK,0BAA4BpB,KAAK,eAApG,SACG8G,EAAY,aAAe,WAE9B,cAAC,IAAD,CAAMzJ,GAAG,UAAUS,UAAU,kBAA7B,iDCGSkJ,MAnDf,YAAgD,IAA7BC,EAA4B,EAA5BA,eAAgBH,EAAY,EAAZA,UAAY,EAElBrJ,mBAAS,CAAEU,MAAO,GAAI4I,SAAU,KAFd,mBAEtCzE,EAFsC,KAE9BC,EAF8B,OAGlB9E,mBAAS,IAHS,mBAGtC+E,EAHsC,KAG9BC,EAH8B,OAIRhF,oBAAS,GAJD,mBAItC2D,EAJsC,KAIzBsB,EAJyB,KAQ7C,SAAST,EAAa/B,GACpB,IAAMF,EAAME,EAAEyC,OAAO3C,KAAK4C,MAAM,KAAKC,MAGrC,GAFAN,EAAU,2BAAID,GAAL,kBAActC,EAAOE,EAAEyC,OAAOzF,SAEpCgD,EAAEyC,OAAOG,SAASC,MAAO,CAC1B,IAAMC,EAAc,2BAAKR,GAAN,kBAAexC,EAAO,KACzCyC,EAAUO,GACV,IAAMU,EAAaT,OAAOX,OAAOU,GACP,IAAvBU,EAAYvD,QAAcuC,GAAgBgB,EAAY/D,MAAK,SAAAuD,GAAC,OAAIA,WAEnET,EAAU,2BAAID,GAAL,kBAAcxC,EAAOE,EAAEyC,OAAOQ,qBACvCT,GAAe,GAWnB,OACE,uBAAM1C,KAAK,gBAAgBlC,UAAU,OAAOiD,SAR9C,SAAsBb,GACpBA,EAAEmD,iBACF4D,EAAe3E,IAMf,UAEE,oBAAIxE,UAAU,gBAAd,qBAEA,cAAC,EAAD,CAAWkC,KAAK,eAAeC,KAAK,QAAQ0B,MAAM,QAAQG,OAAQ,CAAC,EAAG,KACpEG,aAAcA,EAAc/E,MAAOoF,EAAOnE,MAAOuD,MAAOc,EAAOrE,QAEjE,cAAC,EAAD,CAAW6B,KAAK,kBAAkBC,KAAK,WAAW0B,MAAM,WAAWG,OAAQ,CAAC,GAAI,KAC9EG,aAAcA,EAAc/E,MAAOoF,EAAOyE,SAAUrF,MAAOc,EAAOuE,WAEpE,wBAAQ9G,KAAK,SAASnC,UAAS,sBAAiBsD,EAAc,GAAK,0BAA4BpB,KAAK,eAApG,SACG8G,EAAY,aAAe,YAE9B,cAAC,IAAD,CAAMzJ,GAAG,UAAUS,UAAU,kBAA7B,gDCvCSoJ,MAZf,SAAqBjK,GAEnB,OACE,qBAAKa,UAAS,gBAAWb,EAAM6D,OAAS,eAAiB,IAAzD,SACE,sBAAKhD,UAAS,0CAAqCb,EAAMgD,MAAzD,UACE,mBAAGnC,UAAU,iBAAb,SAA+Bb,EAAMkE,WACrC,wBAAQlB,KAAK,QAAQnC,UAAU,qBAAqBY,aAAW,QAAQN,QAASnB,EAAMqE,gBCI/E6F,MAVf,WAEE,OACE,wBAAQrJ,UAAU,SAAlB,SACE,mBAAGA,UAAU,oBAAb,0CCwISsJ,MA5Hf,WAEE,IAAMC,EAAUC,cAFH,EAIkB7J,oBAAS,GAJ3B,mBAINL,EAJM,KAIImK,EAJJ,OAKwB9J,mBAAS,CAAE+B,IAAK,GAAIrB,MAAO,KALnD,mBAKND,EALM,KAKOsJ,EALP,OAOoB/J,oBAAS,GAP7B,mBAONqJ,EAPM,KAOKW,EAPL,OASqChK,oBAAS,GAT9C,mBASNiK,EATM,KASgBC,EAThB,OAUiClK,oBAAS,GAV1C,mBAUNmK,EAVM,KAUcC,EAVd,OAWqCpK,oBAAS,GAX9C,mBAWNqK,EAXM,KAWgBC,EAXhB,KAePC,EAAkB,WACnBF,IACDC,GAAmB,GAEnB9C,SAASgD,eAAe,kBAAkBC,SAE5CP,GAAmB,GACnBE,GAAiB,IAqCbM,EAAO,SAACjC,GACZqB,GAAY,GACZC,EAAetB,GACfmB,EAAQe,KAAK,MAmBf,OAfAhF,qBAAU,WACR,IAAM1H,EAAQc,aAAa6L,QAAQ,OAC/B3M,GACFN,EAAKsB,WAAWhB,GAAOG,MAAK,SAACC,GACvBA,IACFyL,GAAY,GACZC,EAAe1L,EAAIM,MACnBiL,EAAQe,KAAK,WAIlB,IAKD,cAACxL,EAAeiJ,SAAhB,CAAyB3I,MAAO,CAAEE,WAAUc,eAA5C,SACE,sBAAKJ,UAAU,YAAf,UAEE,cAAC,EAAD,CAAQP,aA/BM,WAClBf,aAAa8L,WAAW,OACxBf,GAAY,MA+BR,eAAC,IAAD,WACE,cAAC,EAAD,CAAgBgB,OAAK,EAACC,KAAK,IAAIxL,UAAW6G,IAE1C,cAAC,IAAD,CAAO2E,KAAK,UAAZ,SACE,cAAC,EAAD,CAAO3B,YAnDE,SAAClK,GAElB,OADA8K,GAAa,GACNrM,EAAK+M,MAAMxL,GACfd,MAAK,SAACC,GACLqM,EAAMrM,EAAIM,MACVqL,GAAa,MAEdjC,OAAM,WAGL,OAFAuC,GAAmB,GACnBN,GAAa,GACNxL,QAAQC,aAyCsB4K,UAAWA,MAG9C,cAAC,IAAD,CAAO0B,KAAK,UAAZ,SACE,cAAC,EAAD,CAAUvB,eArEE,SAACtK,GACrB8K,GAAa,GACbrM,EAAKqN,SAAS9L,GACXd,MAAK,SAACC,GACL6L,GAAmB,GACnBQ,EAAMrM,EAAIM,MACVqL,GAAa,MAEdjC,OAAM,WACLqC,GAAiB,GACjBJ,GAAa,OA2DiCX,UAAWA,MAGvD,cAAC,IAAD,UACG1J,EAAW,cAAC,IAAD,CAAUC,GAAG,MAAS,cAAC,IAAD,CAAUA,GAAG,iBAKnD,cAAC,EAAD,CAAa4C,KAAK,UAAUa,OAAQ4G,EAAsBpG,QAAS0G,EAAnE,oDAIA,cAAC,EAAD,CAAa/H,KAAK,QAAQa,OAAQ8G,EAAoBtG,QAAS0G,EAA/D,2DAIA,cAAC,EAAD,CAAa/H,KAAK,QAAQa,OAAQgH,EAAsBxG,QAAS0G,EAAjE,2EAIA,cAAC,EAAD,UCxHOU,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB/M,MAAK,YAAkD,IAA/CgN,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAgBC,SAAS,qBAAzB,SACE,cAAC,EAAD,QAGJpE,SAASgD,eAAe,SAM1BS,M","file":"static/js/main.5912e060.chunk.js","sourcesContent":["class AuthApi {\r\n  // temporary separate authorization api module -- will combine in next stage\r\n\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl= baseUrl;\r\n    this._headers= headers;\r\n  }\r\n\r\n\r\n  checkToken(token) {\r\n    return fetch(this._baseUrl + 'users/me', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n    .then(res => {\r\n      if (res.ok) return res.json();\r\n      return Promise.reject(`Error: ${res.status}`);\r\n    })\r\n  }\r\n\r\n\r\n  login(data) {\r\n    return fetch(this._baseUrl + 'signin', {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data)\r\n    })\r\n    .then(res => {\r\n      if (res.ok) return res.json();\r\n      return Promise.reject(`Error: ${res.status}`);\r\n    })\r\n    .then(data => {\r\n      localStorage.setItem('jwt', data.token);\r\n      return this.checkToken(data.token);\r\n    }); \r\n  }\r\n\r\n\r\n  register(credentials) {\r\n    return fetch(this._baseUrl + 'signup', {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(credentials)\r\n    }).then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } \r\n      return Promise.reject(`Error: ${res.status}`);\r\n    }).then(data => {\r\n      // now auto-login the user and save token\r\n      return fetch(this._baseUrl + 'signin', {\r\n        method: \"POST\",\r\n        headers: this._headers,\r\n        body: JSON.stringify(credentials)\r\n      })\r\n      .then(res => {\r\n        if (res.ok) return res.json();\r\n        return Promise.reject(`Error: ${res.status}`);\r\n      })\r\n      .then(res => {\r\n        localStorage.setItem('jwt', res.token);\r\n        return data; \r\n        // no need to run checkToken, we already have the data returned from registering\r\n      })\r\n    }); \r\n  }\r\n\r\n}\r\n\r\n\r\nexport const auth= new AuthApi({\r\n  baseUrl: \"https://register.nomoreparties.co/\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\"\r\n  }\r\n}); \r\n","import { createContext } from 'react';\r\n\r\nexport const AccountContext = createContext();","import { useContext } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { AccountContext } from '../contexts/AccountContext.js';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  const value = useContext(AccountContext);\r\n\r\n  return (\r\n    <Route>\r\n      {\r\n        () => value.loggedIn === true ? <Component {...props} /> : <Redirect to='./signin' />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute; ","export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","import { useState, useContext, useRef } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport { AccountContext } from '../contexts/AccountContext';\nimport logo from '../images/logo.svg';\n\n\n\nfunction Header({handleLogout}) {\n\n  const accountContext = useContext(AccountContext);\n  const [showMenu, setShowMenu]= useState(false);\n  const menuToggle= useRef();\n\n\n  const toggleMenu = () => {\n    setShowMenu(!showMenu);\n    menuToggle.current.blur();\n  }\n\n\n\n  return (\n    <header className=\"header\">\n      \n      <img className=\"header__logo\" src={logo} alt=\"Around The U.S.\" />\n      \n      <ul className={`header__account-menu ${accountContext.loggedIn ? 'header__account-menu_logged-in ' : ''}${showMenu ? 'header__account-menu_active ' : ''}list`}>\n        {accountContext.loggedIn ?\n          <>\n            <li><div className=\"header__account-item header__account-item_logged-in\">{accountContext.accountData.email}</div></li>\n            <li><button className=\"header__account-item header__account-item_logged-in header__account-logout button\" onClick={handleLogout}>Log out</button></li>\n          </>\n          :\n          <>\n            <li>\n              <NavLink activeStyle={{ display: 'none' }} to=\"/signup\" className=\"header__account-item link\">Sign up</NavLink>\n            </li>\n            <li>\n              <NavLink activeStyle={{ display: 'none' }} to=\"/signin\" className=\"header__account-item link\">Log in</NavLink>\n            </li>\n          </>\n        }\n      </ul>\n      {accountContext.loggedIn === true && \n        <button ref={menuToggle} className={`header__menu-toggle ${showMenu ? 'header__menu-toggle_selected ' : ''}button`} onClick={toggleMenu} aria-label=\"Show Menu\"></button>\n      }\n \n    </header>   \n  );\n  \n}\n\nexport default Header;\n","class Api {\r\n\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl= baseUrl;\r\n    this._headers= headers;\r\n  }\r\n  \r\n  \r\n  getInitialCards() {\r\n    return fetch(this._baseUrl + 'cards', {\r\n      headers: this._headers\r\n    }).then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } \r\n      return Promise.reject(`Error: ${res.status}`);\r\n    });\r\n  } \r\n\r\n\r\n  getUserInfo() {\r\n    return fetch(this._baseUrl + 'users/me', {\r\n      headers: this._headers\r\n    }).then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } \r\n      return Promise.reject(`Error: ${res.status}`);\r\n    });\r\n  } \r\n\r\n\r\n  addCard(data) {\r\n    return fetch(this._baseUrl + 'cards', {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data)\r\n    }).then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } \r\n      return Promise.reject(`Error: ${res.status}`);\r\n    }); \r\n  }\r\n\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(this._baseUrl + 'cards/' + cardId, {\r\n      method: \"DELETE\",\r\n      headers: this._headers\r\n    }).then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } \r\n      return Promise.reject(`Error: ${res.status}`);\r\n    }); \r\n  }\r\n  \r\n\r\n  updateLikes(cardId, liked) {\r\n    let method= 'DELETE';\r\n    if(liked) method= 'PUT';\r\n\r\n    return fetch(this._baseUrl + 'cards/likes/' + cardId, {\r\n      method: method,\r\n      headers: this._headers\r\n    }).then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } \r\n      return Promise.reject(`Error: ${res.status}`);\r\n    }); \r\n  }\r\n\r\n\r\n  setUserInfo(data) {\r\n    return fetch(this._baseUrl + 'users/me', {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data)\r\n    }).then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } \r\n      return Promise.reject(`Error: ${res.status}`);\r\n    }); \r\n  }\r\n  \r\n\r\n  setUserAvatar(data) {\r\n    return fetch(this._baseUrl + 'users/me/avatar', {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data)\r\n    }).then(res => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } \r\n      return Promise.reject(`Error: ${res.status}`);\r\n    }); \r\n  }\r\n\r\n}\r\n\r\n\r\nexport const api= new Api({\r\n  baseUrl: \"https://around.nomoreparties.co/v1/group-6/\",\r\n  headers: {\r\n    authorization: \"95a5b594-7318-496e-ada2-f96a00133f51\",\r\n    \"Content-Type\": \"application/json\"\r\n  }\r\n}); \r\n","import { createContext } from 'react';\r\n\r\nexport const CurrentUserContext = createContext();","import { useRef } from 'react';\n\nfunction Card({card, currentUserId, onCardClick, onDeleteClick, onLikeClick}) {\n\n  const currentUserOwns= card.owner._id === currentUserId;\n  const currentUserLikes= card.likes.some(user => user._id === currentUserId);\n  const likeButtonRef= useRef();\n\n  const handleClick= () => { onCardClick(card); }\n  const handleDeleteClick= () => { onDeleteClick(card); }\n  const handleLikeUnlike= (e) => { onLikeClick(card, likeButtonRef); }\n\n\n\n  return (\n    <li className=\"photo\" id={card._id}>\n      <img className=\"photo__image\" src={card.link} alt={card.name} onClick={handleClick} />\n      <div className=\"photo__meta\">\n        <h2 className=\"photo__caption\">{card.name}</h2>\n        <button ref={likeButtonRef} type=\"button\" aria-label=\"Like\"\n          className={`photo__like button${currentUserLikes ? ' photo__like_on' : ''}`} \n          onClick={handleLikeUnlike}\n        >\n          <span className=\"photo__like-count\">{card.likes.length}</span>\n        </button>\n      </div>\n      {currentUserOwns && <button type=\"reset\" className=\"photo__delete button\" aria-label=\"Delete\" onClick={handleDeleteClick}></button>}\n    </li>\n  );\n\n}\n\nexport default Card;\n","\nimport { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nimport Card from './Card';\n\n\n\nfunction Main({cards, onEditAvatar, onEditProfile, onAddPlace, onCardClick, onDeleteClick, onLikeClick}) {\n\n  const currentUser = useContext(CurrentUserContext);\n  \n\n\n  return (\n    <main>\n          \n      <section className=\"profile\">\n        <button className=\"profile__edit-avatar\" aria-label=\"Edit Avatar\" onClick={onEditAvatar}>\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Avatar\" />\n        </button>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button type=\"button\" className=\"profile__edit-info button\" aria-label=\"Edit profile\" onClick={onEditProfile}></button>\n          <p className=\"profile__about\">{currentUser.about}</p>\n        </div>\n        \n        <button type=\"button\" className=\"profile__add-image button\" aria-label=\"Add image\" onClick={onAddPlace}></button>\n      </section>\n\n      \n      <section className=\"photo-grid\">\n        <ul className=\"photo-grid__list list\">\n\n          {cards.map(card => (\n            <Card card={card} key={card._id} currentUserId={currentUser._id} onCardClick={onCardClick} onDeleteClick={onDeleteClick} onLikeClick={onLikeClick} />\n          ))}\n\n        </ul>\n      </section>\n\n    </main>\n  );\n}\n\nexport default Main;\n","function PopupWithForm(props) {\n\n  return (\n    <div className={`popup ${props.isOpen ? 'popup_active' : ''}`}>\n      <form name={`${props.name}-form`} className={`popup__item form modal modal_form_${props.name}`} onSubmit={props.onSubmit} onReset={() => setTimeout(() => { props.onReset && props.onReset(); }, 200)}>\n        \n        <h3 className=\"form__heading modal__heading\">{props.heading}</h3>\n        \n        {props.children}\n        \n        <button type=\"submit\" className={`button form__button modal__button modal__button_type_save${!props.submitReady && ' form__button_disabled modal__button_disabled'}`} name={`${props.name}-submit`}>{props.submitText}</button>\n        \n        <button type=\"reset\" className=\"popup__exit button\" aria-label=\"Close\" onClick={props.onClose}></button>\n      </form>\n    </div>\n  );\n  \n}\n\nexport default PopupWithForm;\n","function FormField(props) {\n\n  return (\n    <>\n      <input \n        type={props.type === undefined ? 'text' : props.type} \n        name={props.name}\n        id={props.name} \n        className={`form__input${props.isModal ? ' modal__input' : ''}${props.error ? ' form__input_type_error': ''}`} \n        aria-label={props.label} \n        placeholder={props.label} \n        minLength={props.minMax ? props.minMax[0] : undefined}\n        maxLength={props.minMax ? props.minMax[1] : undefined} \n        value={props.value} \n        onChange={props.handleChange}\n        autoComplete={props.type === 'password' ? `around-the-us ${props.name}` : ''}\n        required />\n      <span className={`form__error${props.error ? ' form__error_active' : ''}`}>{props.error}</span>\n    </>\n  );\n}\n\nexport default FormField;\n","\r\nimport { useEffect, useState, useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\nimport FormField from './FormField';\r\n\r\n\r\n\r\nfunction EditProfilePopup({isOpen, isSaving, onClose, onSubmit}) {\r\n\r\n  const currentUser= useContext(CurrentUserContext);\r\n\r\n  const [values, setValues]= useState({ name: '', about: '' });\r\n  const [errors, setErrors]= useState({});\r\n  const [submitReady, setSubmitReady]= useState(false);\r\n\r\n\r\n  \r\n  function handleChange(e) {\r\n    const name= e.target.name.split('-').pop();\r\n    setValues({...values, [name]: e.target.value });\r\n    \r\n    if(e.target.validity.valid) {\r\n      const updatedErrors= {...errors, [name]: '' }\r\n      setErrors(updatedErrors);\r\n      setSubmitReady(!Object.values(updatedErrors).some(i => i)); // enable submit if no error messages\r\n    } else {\r\n      setErrors({...errors, [name]: e.target.validationMessage });\r\n      setSubmitReady(false);\r\n    }\r\n  } \r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onSubmit(values);\r\n  }\r\n\r\n  const handleReset= () => {\r\n    setValues({ name: currentUser.name || '', about: currentUser.about || '' }); // prevent undefined value on controlled form field\r\n    setErrors({});\r\n    setSubmitReady(!!(currentUser.name && currentUser.about));\r\n  }\r\n\r\n\r\n  \r\n  useEffect(() => { \r\n    if(currentUser.name && currentUser.about) { \r\n      setValues({ name: currentUser.name, about: currentUser.about }); // prevent undefined value on controlled form field\r\n      setSubmitReady(true);\r\n    }\r\n  }, [currentUser]); \r\n  \r\n\r\n\r\n  \r\n  return (\r\n    <PopupWithForm heading=\"Edit profile\" name=\"profile\" isOpen={isOpen} onClose={onClose} onReset={handleReset}\r\n      submitText={isSaving ? 'Saving...' : 'Save'} submitReady={submitReady} onSubmit={handleSubmit}>\r\n\r\n      <FormField isModal={true} name=\"profile-name\" label=\"Name\" minMax={[2, 40]} handleChange={handleChange} value={values.name} error={errors.name} />\r\n      <FormField isModal={true} name=\"profile-about\" label=\"About me\" minMax={[2, 200]} handleChange={handleChange} value={values.about} error={errors.about}  />\r\n    \r\n    </PopupWithForm>\r\n  );\r\n  \r\n}\r\n\r\nexport default EditProfilePopup;\r\n","\r\nimport { useEffect, useState, useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\nimport FormField from './FormField';\r\n\r\n/* \r\n * Note to reviewer: I really didn't want to use ref here, as it messes up my form validation code and doesn't work with my FormField component, \r\n * plus this is not an ideal use case anyway. Please see Card component for a ref example -- used there to remove focus from button after like.  \r\n */\r\n\r\nfunction EditAvatarPopup({isOpen, isSaving, onClose, onSubmit}) {\r\n\r\n  const currentUser= useContext(CurrentUserContext);\r\n\r\n  const [avatar, setAvatar]= useState('');\r\n  const [error, setError]= useState('');\r\n  const [submitReady, setSubmitReady]= useState(false);\r\n\r\n\r\n\r\n  function handleChange(e) {\r\n    setAvatar(e.target.value);\r\n    setError(e.target.validity.valid ? '' : e.target.validationMessage);\r\n    setSubmitReady(e.target.validity.valid);\r\n  } \r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onSubmit({avatar: avatar});\r\n  }\r\n\r\n  function handleReset() {\r\n    setAvatar(currentUser.avatar || ''); // prevent undefined value on controlled form field\r\n    setError('');\r\n    setSubmitReady(!!currentUser.avatar); // convert string to boolean to determine button state\r\n  }\r\n\r\n\r\n\r\n  useEffect(() => { \r\n      setAvatar(currentUser.avatar || ''); // prevent undefined value on controlled form field\r\n      setSubmitReady(!!currentUser.avatar); // convert string to boolean to determine button state\r\n  }, [currentUser]); \r\n\r\n\r\n  \r\n  return (\r\n    <PopupWithForm heading=\"Change profile picture\" name=\"avatar\" isOpen={isOpen} onClose={onClose} onReset={handleReset}\r\n      submitText={isSaving ? 'Saving...' : 'Save'} submitReady={submitReady} onSubmit={handleSubmit}>\r\n\r\n      <FormField isModal={true} name=\"profile-avatar\" type=\"url\" label=\"Image link\" value={avatar} handleChange={handleChange} error={error} />\r\n\r\n    </PopupWithForm>\r\n  );\r\n  \r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import { useState } from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\nimport FormField from './FormField';\r\n\r\n\r\n\r\nfunction AddPlacePopup({isOpen, isSaving, onClose, onSubmit}) {\r\n\r\n  const [values, setValues]= useState({ name: '', link: '' });\r\n  const [errors, setErrors]= useState({});\r\n  const [submitReady, setSubmitReady]= useState(false);\r\n\r\n\r\n\r\n  function handleChange(e) {\r\n    const name= e.target.name.split('-').pop();\r\n    setValues({...values, [name]: e.target.value });\r\n    \r\n    if(e.target.validity.valid) {\r\n      const updatedErrors= {...errors, [name]: '' }\r\n      setErrors(updatedErrors);\r\n      const errorValues= Object.values(updatedErrors);\r\n      if(errorValues.length === 2) setSubmitReady(!errorValues.some(i => i)); // enable submit if both fields checked and no error messages\r\n    } else {\r\n      setErrors({...errors, [name]: e.target.validationMessage });\r\n      setSubmitReady(false);\r\n    }\r\n  } \r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onSubmit(values, e);\r\n  }\r\n\r\n  function handleReset(e) {\r\n    setErrors({});\r\n    setSubmitReady(false);\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <PopupWithForm heading=\"New place\" name=\"photo\" isOpen={isOpen} onClose={onClose} onReset={handleReset}\r\n      submitText={isSaving ? 'Saving...' : 'Create'} submitReady={submitReady} onSubmit={handleSubmit}>\r\n\r\n      <FormField isModal={true} name=\"photo-name\" label=\"Title\" minMax={[2, 30]} error={errors.name} handleChange={handleChange} />\r\n      <FormField isModal={true} name=\"photo-link\" type=\"url\" label=\"Image link\" error={errors.link} handleChange={handleChange} />\r\n\r\n    </PopupWithForm>\r\n  );\r\n\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import PopupWithForm from './PopupWithForm';\n\n\n\nfunction DeletePlacePopup({isOpen, isSaving, onClose, cardId, onSubmit}) {\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onSubmit(cardId);\n  }\n\n\n\n  return (\n    <PopupWithForm heading=\"Are you sure?\" name=\"delete\" isOpen={isOpen} onClose={onClose}\n      submitReady={true} submitText={isSaving ? 'Saving...' : 'Yes'} onSubmit={handleSubmit} />\n  );\n  \n}\n\nexport default DeletePlacePopup;\n","function PopupWithImage(props) {\n  \n  return (\n    <div className={`popup popup_dark ${props.isOpen ? 'popup_active' : ''}`}>  \n      <div className=\"popup__item photo-viewer\">\n        <figure className=\"photo-viewer__figure\">\n          <img className=\"photo-viewer__image\" src={props.card.link} alt={props.card.name} />\n          <figcaption className=\"photo-viewer__caption\">{props.card.name}</figcaption>\n        </figure>\n        <button type=\"button\" className=\"popup__exit photo-viewer__exit button\" aria-label=\"Close Photo Viewer\" onClick={props.onClose}></button>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithImage;\n","import { useState, useEffect } from 'react';\r\n\r\nimport { api } from '../utils/api.js';\r\n\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport avatar from '../images/avatar.png'; // default avatar (black 1 pixel)\r\n\r\nimport Main from './Main';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeletePlacePopup from './DeletePlacePopup';\r\nimport PopupWithImage from './PopupWithImage';\r\n\r\n\r\n\r\nfunction AroundTheUS() {\r\n\r\n  const [currentUser, setCurrentUser]= useState({name: '', about: '', avatar: avatar});\r\n  const [cards, setCards]= useState([]);\r\n  const [selectedCard, selectCard]= useState({});\r\n  const [isSaving, setIsSaving]= useState(false);\r\n\r\n  const [isProfilePopupOpen, showProfilePopup]= useState(false);\r\n  const [isAvatarPopupOpen, showAvatarPopup]= useState(false);\r\n  const [isAddPlacePopupOpen, showAddPlacePopup]= useState(false);\r\n  const [isDeletePlacePopupOpen, showDeletePlacePopup]= useState(false);\r\n  const [isImagePopupOpen, showImagePopup]= useState(false);\r\n\r\n\r\n\r\n  const handleEditAvatarClick= () => { showAvatarPopup(true); setListener(true); }\r\n  const handleEditProfileClick= () => { showProfilePopup(true); setListener(true); }\r\n  const handleAddPlaceClick= () => { showAddPlacePopup(true); setListener(true); }\r\n\r\n  const closeAllPopups= () => {\r\n    showAvatarPopup(false);\r\n    showProfilePopup(false);\r\n    showAddPlacePopup(false);\r\n    showDeletePlacePopup(false);\r\n\r\n    showImagePopup(false);\r\n    setTimeout(() => { selectCard({}); }, 200); // wait until fade animation completes before removing selected card data\r\n    \r\n    setListener(false);\r\n  }\r\n\r\n  const closeOnEsc= (e) => { \r\n    if(e.key === 'Escape') { \r\n      closeAllPopups(); \r\n\r\n      document.querySelector('.popup_active .modal').reset(); \r\n    }\r\n  }\r\n\r\n  const setListener= (listen) => {\r\n    listen ?\r\n      document.addEventListener('keyup', closeOnEsc) :\r\n      document.removeEventListener('keyup', closeOnEsc);\r\n  }\r\n\r\n  const handleCardClick= (card) => {\r\n    selectCard(card);\r\n    showImagePopup(true);\r\n    setListener(true);\r\n  }\r\n\r\n  const handleDeleteClick= (card) => {\r\n    selectCard(card);\r\n    showDeletePlacePopup(true);\r\n    setListener(true);\r\n  }\r\n\r\n  \r\n\r\n  const updateProfile= (userData) => {\r\n    setIsSaving(true);\r\n    api.setUserInfo(userData)\r\n    .then((user) => {\r\n      setCurrentUser(user);\r\n      closeAllPopups();\r\n      setTimeout(() => { setIsSaving(false); }, 200); // wait until fade animation completes to reset button text\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      setIsSaving(false);\r\n    });\r\n  }\r\n\r\n  const updateAvatar= (avatarData) => {\r\n    setIsSaving(true);\r\n    api.setUserAvatar(avatarData)\r\n    .then((user) => {\r\n      setCurrentUser(user);\r\n      closeAllPopups();\r\n      setTimeout(() => { setIsSaving(false); }, 200);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      setIsSaving(false);\r\n    });\r\n    \r\n  }\r\n\r\n  const addCard= (cardData, e) => {\r\n    setIsSaving(true);\r\n    api.addCard(cardData)\r\n    .then((newCard) => {\r\n      setCards([newCard, ...cards]);\r\n      closeAllPopups();\r\n      setTimeout(() => { setIsSaving(false); }, 200);\r\n      e.target.reset(); // empty the form\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      setIsSaving(false);\r\n    });\r\n  }\r\n\r\n  const likeUnlikeCard= (card, likeButtonRef) => {\r\n    const currentUserLikes= card.likes.some(user => user._id === currentUser._id);\r\n    api.updateLikes(card._id, !currentUserLikes)\r\n      .then((updatedCard) => {\r\n        const newCards = cards.map((c) => c._id === card._id ? updatedCard : c);  \r\n        setCards(newCards);\r\n        likeButtonRef.current.blur(); // prevents button from staying selected and highlighted after action completes\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  const deleteCard= (cardId) => {\r\n    setIsSaving(true);\r\n    api.deleteCard(cardId)\r\n    .then((response) => {\r\n      const newCards = cards.filter((card) => card._id !== cardId);  \r\n      setCards(newCards);\r\n      closeAllPopups();\r\n      setTimeout(() => { setIsSaving(false); }, 200);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      setIsSaving(false);\r\n    });\r\n  }\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    api.getUserInfo()\r\n    .then((user) => {\r\n      setCurrentUser(user);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if(!currentUser) return;\r\n    api.getInitialCards()\r\n      .then(setCards)\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Main \r\n        cards={cards}\r\n        onEditAvatar={handleEditAvatarClick} \r\n        onEditProfile={handleEditProfileClick} \r\n        onAddPlace={handleAddPlaceClick}\r\n        onCardClick={handleCardClick}\r\n        onDeleteClick={handleDeleteClick}\r\n        onLikeClick={likeUnlikeCard}\r\n      />\r\n\r\n      <EditProfilePopup isOpen={isProfilePopupOpen} onClose={closeAllPopups} onSubmit={updateProfile} isSaving={isSaving} />\r\n      <EditAvatarPopup isOpen={isAvatarPopupOpen} onClose={closeAllPopups} onSubmit={updateAvatar} isSaving={isSaving} />\r\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onSubmit={addCard} isSaving={isSaving} />\r\n      <DeletePlacePopup isOpen={isDeletePlacePopupOpen} onClose={closeAllPopups} onSubmit={deleteCard} cardId={selectedCard._id} isSaving={isSaving} />\r\n\r\n      <PopupWithImage isOpen={isImagePopupOpen} onClose={closeAllPopups} card={selectedCard} />\r\n    </CurrentUserContext.Provider>\r\n  );\r\n\r\n}\r\n\r\nexport default AroundTheUS;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6REQxMzQxQ0UxRUY0MTFFQjlEMEFGQ0NEMURDQTc3NkMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6REQxMzQxQ0YxRUY0MTFFQjlEMEFGQ0NEMURDQTc3NkMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpERDEzNDFDQzFFRjQxMUVCOUQwQUZDQ0QxRENBNzc2QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpERDEzNDFDRDFFRjQxMUVCOUQwQUZDQ0QxRENBNzc2QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgV334EAAAAGUExURQAAAP///6XZn90AAAAMSURBVHjaYmAACDAAAAIAAU9tWeEAAAAASUVORK5CYII=\"","import { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport FormField from './FormField';\r\n\r\n\r\n\r\nfunction Login({handleLogin, isLoading}) {\r\n\r\n  const [values, setValues]= useState({ email: '', password: '' });\r\n  const [errors, setErrors]= useState({});\r\n  const [submitReady, setSubmitReady]= useState(false);\r\n\r\n\r\n\r\n  function handleChange(e) {\r\n    const name= e.target.name.split('-').pop();\r\n    setValues({...values, [name]: e.target.value });\r\n    \r\n    if(e.target.validity.valid) {\r\n      const updatedErrors= {...errors, [name]: '' };\r\n      setErrors(updatedErrors);\r\n      const errorValues= Object.values(updatedErrors);\r\n      if(errorValues.length === 2) setSubmitReady(!errorValues.some(i => i)); // enable submit if both fields checked and no error messages\r\n    } else {\r\n      setErrors({...errors, [name]: e.target.validationMessage });\r\n      setSubmitReady(false);\r\n    }\r\n  } \r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    handleLogin(values)\r\n      .catch(() => {\r\n        setValues({...values, password: '' });\r\n        setSubmitReady(false);\r\n      });\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <form name=\"login-form\" className=\"form\" onSubmit={handleSubmit}>\r\n        \r\n      <h3 className=\"form__heading\">Log in</h3>\r\n\r\n      <FormField name=\"login-email\" label=\"Email\" handleChange={handleChange} \r\n        value={values.email} error={errors.email} />\r\n\r\n      <FormField name=\"login-password\" type=\"password\" label=\"Password\" handleChange={handleChange} \r\n        value={values.password} error={errors.password} />\r\n      \r\n      <button type=\"submit\" className={`form__button${submitReady ? '' : ' form__button_disabled'}`} name=\"login-submit\">\r\n        {isLoading ? 'Loading...' : 'Log in'}\r\n      </button>\r\n      <Link to=\"/signup\" className=\"form__text link\">Not a member yet? Sign up here!</Link>\r\n\r\n    </form>\r\n  );\r\n  \r\n}\r\n\r\nexport default Login;\r\n","import { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport FormField from './FormField';\r\n\r\n\r\n\r\nfunction Register({handleRegister, isLoading}) {\r\n\r\n  const [values, setValues]= useState({ email: '', password: '' });\r\n  const [errors, setErrors]= useState({});\r\n  const [submitReady, setSubmitReady]= useState(false);\r\n\r\n\r\n\r\n  function handleChange(e) {\r\n    const name= e.target.name.split('-').pop();\r\n    setValues({...values, [name]: e.target.value });\r\n    \r\n    if(e.target.validity.valid) {\r\n      const updatedErrors= {...errors, [name]: '' };\r\n      setErrors(updatedErrors);\r\n      const errorValues= Object.values(updatedErrors);\r\n      if(errorValues.length === 2) setSubmitReady(!errorValues.some(i => i)); // enable submit if both fields checked and no error messages\r\n    } else {\r\n      setErrors({...errors, [name]: e.target.validationMessage });\r\n      setSubmitReady(false);\r\n    }\r\n  } \r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    handleRegister(values);\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <form name=\"register-form\" className=\"form\" onSubmit={handleSubmit}>\r\n        \r\n      <h3 className=\"form__heading\">Sign up</h3>\r\n\r\n      <FormField name=\"signup-email\" type=\"email\" label=\"Email\" minMax={[5, 320]} \r\n        handleChange={handleChange} value={values.email} error={errors.email} />\r\n\r\n      <FormField name=\"signup-password\" type=\"password\" label=\"Password\" minMax={[10, 256]} \r\n        handleChange={handleChange} value={values.password} error={errors.password} />\r\n      \r\n      <button type=\"submit\" className={`form__button${submitReady ? '' : ' form__button_disabled'}`} name=\"login-submit\">\r\n        {isLoading ? 'Loading...' : 'Sign up'}\r\n      </button>\r\n      <Link to=\"/signin\" className=\"form__text link\">Already a member? Log in here!</Link>\r\n\r\n    </form>\r\n  );\r\n  \r\n}\r\n\r\nexport default Register;\r\n","function InfoTooltip(props) {\r\n  \r\n  return (\r\n    <div className={`popup ${props.isOpen ? 'popup_active' : ''}`}>  \r\n      <div className={`popup__item modal modal_tooltip_${props.type}`}>\r\n        <p className=\"modal__heading\">{props.children}</p>\r\n        <button type=\"reset\" className=\"popup__exit button\" aria-label=\"Close\" onClick={props.onClose}></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;","function Footer() {\n\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\"> 2020 Around the U.S.</p>\n    </footer>\n  );\n  \n}\n\nexport default Footer;\n","import { useState, useEffect } from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\n\nimport { auth } from '../utils/authApi.js';\nimport { AccountContext } from '../contexts/AccountContext.js';\nimport ProtectedRoute from './ProtectedRoute';\n\nimport Header from './Header';\nimport AroundTheUS from './AroundTheUS';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport Footer from './Footer';\n\n\n\nfunction App() {\n\n  const history = useHistory();\n\n  const [loggedIn, setLoggedIn]= useState(false);\n  const [accountData, setAccountData]= useState({ _id: '', email: ''});\n\n  const [isLoading, setIsLoading]= useState(false);\n\n  const [isTooltipSuccessOpen, showTooltipSuccess]= useState(false);\n  const [isTooltipErrorOpen, showTooltipError]= useState(false);\n  const [isTooltipInvalidOpen, showTooltipInvalid]= useState(false);\n\n\n\n  const closeAllTooltips= () => {\n    if(isTooltipInvalidOpen) {\n      showTooltipInvalid(false);\n      // focus cursor on password field if credentials incorrect\n      document.getElementById('login-password').focus();\n    }\n    showTooltipSuccess(false);\n    showTooltipError(false);\n    \n  }\n\n  const handleRegister= (credentials) => {\n    setIsLoading(true);\n    auth.register(credentials)\n      .then((res) => {\n        showTooltipSuccess(true);\n        login(res.data);\n        setIsLoading(false);\n      })\n      .catch(() => {\n        showTooltipError(true);\n        setIsLoading(false);\n      });\n  }\n\n  const handleLogin= (credentials) => {\n    setIsLoading(true);\n    return auth.login(credentials)\n      .then((res) => {\n        login(res.data);\n        setIsLoading(false);\n      })\n      .catch(() => {\n        showTooltipInvalid(true);\n        setIsLoading(false);\n        return Promise.reject();\n      });\n  }\n\n  const handleLogout= () => {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n  }\n\n  const login= (userData) => {\n    setLoggedIn(true);\n    setAccountData(userData);\n    history.push('/');\n  }\n\n\n  useEffect(() => {\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      auth.checkToken(token).then((res) => {\n        if (res) {\n          setLoggedIn(true);\n          setAccountData(res.data);\n          history.push('/');\n        }\n      });\n    }\n  }, []);\n\n\n\n  return (\n    <AccountContext.Provider value={{ loggedIn, accountData }}>\n      <div className=\"container\">\n\n        <Header handleLogout={handleLogout} />\n\n        <Switch>\n          <ProtectedRoute exact path=\"/\" component={AroundTheUS} />\n\n          <Route path=\"/signin\">\n            <Login handleLogin={handleLogin} isLoading={isLoading} />\n          </Route>\n\n          <Route path=\"/signup\">\n            <Register handleRegister={handleRegister} isLoading={isLoading} />\n          </Route>\n\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\n          </Route>\n\n        </Switch>\n\n        <InfoTooltip type=\"success\" isOpen={isTooltipSuccessOpen} onClose={closeAllTooltips}>\n          Success! You have now been registered.\n        </InfoTooltip>\n\n        <InfoTooltip type=\"error\" isOpen={isTooltipErrorOpen} onClose={closeAllTooltips}>\n          Oops, something went wrong! Please try again.\n        </InfoTooltip>\n\n        <InfoTooltip type=\"error\" isOpen={isTooltipInvalidOpen} onClose={closeAllTooltips}>\n          Oops, your email or password was incorrect! Please try again.\n        </InfoTooltip>\n\n        <Footer />\n\n      </div>\n    </AccountContext.Provider>\n  );\n\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter  basename=\"/react-around-auth\">\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}